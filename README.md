# Lensis - Client

<img width="700" src="https://user-images.githubusercontent.com/90392240/196610554-4d3ac4ef-00d3-4e98-bfaa-15de294db199.png" />

## ✨ 결과물

> 배포 주소

- 클라이언트: https://lenssis-fe-client.vercel.app/
- 관리자: https://lenssis-admin-page.vercel.app/

> 깃헙

- 클라이언트: https://github.com/IKO-FinalProject/FE-Client
- 관리자: https://github.com/IKO-FinalProject/FE-Admin
- 백엔드: https://github.com/IKO-FinalProject/BE-IKO

> 협업툴

- 노션: https://www.notion.so/BE-FE2-UXUI3-_1-e1ca7b5e27354b08a033573299dde83d

> UI/UX

- 피그마: https://www.figma.com/file/SL2HjUJ0aujggFSfo9biR9/%EC%BB%AC%EB%9F%AC%EB%A0%8C%EC%A1%B0-3?node-id=2039%3A77754

## 🤲 함께한 멤버

### UI/UX

| <img src="https://user-images.githubusercontent.com/90392240/196605844-deea9d07-7215-4622-9b33-45694f3e0bed.png" width="100"> | <img src="https://user-images.githubusercontent.com/90392240/196657548-6bc15924-83ff-4ae7-aeb8-0dfe5ae20336.png"  width="100"> | <img src="https://user-images.githubusercontent.com/90392240/196605830-cb5f1b00-349d-4a19-a618-ec0a13639533.png" height="100"> |
| :---------------------------------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------------------------------: |
|                                                          **김보민**                                                           |                                                           **이유나**                                                           |                                                           **임혜인**                                                           |

### Front-End

| <img src="https://ifh.cc/g/WA6smO.jpg" width="100"> | <img src="https://user-images.githubusercontent.com/90392240/196610059-dd13699c-ed6f-4186-99bd-30efb2c0db39.png"  width="100"> | <img src="https://user-images.githubusercontent.com/90392240/196623562-cf50efd3-52af-4023-bae9-8c512c1e4864.jpeg" height="100"> | <img src="https://user-images.githubusercontent.com/96939562/180471277-a6c8c214-142a-40ef-8dca-82d26f1b8ff0.png" height="100"> |
| :-------------------------------------------------: | :----------------------------------------------------------------------------------------------------------------------------: | :-----------------------------------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------------------------------: |
|  **[장경찬](https://github.com/GyeongChan-Jang)**   |                                        **[김명성](https://github.com/Tchaikovsky1114)**                                        |                                           **[이경택](https://github.com/davidktlee)**                                           |                                          **[최효근](https://github.com/BullWooStar)**                                          |

### Back-End

| <img src="https://user-images.githubusercontent.com/90392240/196624767-d2ab8372-bdc7-4b6e-a554-8c1551a4153f.jpeg" width="100"> | <img src="https://user-images.githubusercontent.com/90392240/196658873-af000727-0f6b-46b1-85b9-c5f2b01d90f1.jpeg"  width="100"> |
| :----------------------------------------------------------------------------------------------------------------------------: | :-----------------------------------------------------------------------------------------------------------------------------: |
|                                         **[박성빈](https://github.com/sung-bin-park)**                                         |                                            **[강태현](https://github.com/TaeHye0n)**                                            |

## 🛠 사용기술

<img src="https://img.shields.io/badge/TYPESCRIPT-3178C6?style=for-the-badge&logo=TypeScript&logoColor=white"/> <img src="https://img.shields.io/badge/REACT-61DAFB?style=for-the-badge&logo=React&logoColor=white"/> <img src="https://img.shields.io/badge/reactquery-FF4154?style=for-the-badge&logo=React-Query&logoColor=ffffff"/> <img src="https://img.shields.io/badge/Recoil-af42dc?style=for-the-badge&logo=Recoil&logoColor=white"/>
<img src="https://img.shields.io/badge/TAILWIND CSS-06B6D4?style=for-the-badge&logo=Tailwind CSS&logoColor=white"/>

## backend

<img src="https://img.shields.io/badge/JAVA-2e60a0?style=for-the-badge&logo=JAVA&logoColor=white"/>
<img src="https://img.shields.io/badge/SPRING BOOT-6DB33F?style=for-the-badge&logo=SPRINGBOOT&logoColor=white"/>
<img src="https://img.shields.io/badge/MYSQL-4479A1?style=for-the-badge&logo=MYSQL&logoColor=white"/>
<img src="https://img.shields.io/badge/DOCKER-2496ED?style=for-the-badge&logo=DOCKER&logoColor=white"/>
<img src="https://img.shields.io/badge/AWS-232F3E?style=for-the-badge&logo=Amazon AWS&logoColor=white"/>

## 📅 기간

**2022.9.2 ~ 2022.10.14**

### Front-End

<img src="https://img.shields.io/badge/TYPESCRIPT-3178C6?style=for-the-badge&logo=TypeScript&logoColor=white"/> <img src="https://img.shields.io/badge/REACT-61DAFB?style=for-the-badge&logo=React&logoColor=white"/> <img src="https://img.shields.io/badge/reactquery-FF4154?style=for-the-badge&logo=React-Query&logoColor=ffffff"/> <img src="https://img.shields.io/badge/Recoil-af42dc?style=for-the-badge&logo=Recoil&logoColor=white"/>
<img src="https://img.shields.io/badge/TAILWIND CSS-06B6D4?style=for-the-badge&logo=Tailwind CSS&logoColor=white"/>

- 선택이유
  - Recoil
    - 적은 보일러플레이트로 코드의 길이 감소
    - hooks 사용과 같이 간단한 사용법
  - React Query
    - 프리패칭, 캐싱 등 다양한 기능
    - 클라이언트 state와 비동기 state의 분리

### backend

<img src="https://img.shields.io/badge/JAVA-2e60a0?style=for-the-badge&logo=JAVA&logoColor=white"/><img src="https://img.shields.io/badge/SPRING BOOT-6DB33F?style=for-the-badge&logo=SPRINGBOOT&logoColor=white"/><img src="https://img.shields.io/badge/MYSQL-4479A1?style=for-the-badge&logo=MYSQL&logoColor=white"/><img src="https://img.shields.io/badge/DOCKER-2496ED?style=for-the-badge&logo=DOCKER&logoColor=white"/><img src="https://img.shields.io/badge/AWS-232F3E?style=for-the-badge&logo=Amazon AWS&logoColor=white"/>

## 📅 기간

> **9/6 ~ 10/14**

## 🎬 개요

- IKO 기업과 연계한 UI/UX, Front-End, Back-End 협업 프로젝트입니다.

- 렌즈 쇼핑몰 서비스입니다. 클라이언트와 관리자 웹/앱 반응형으로 제작했습니다.

## 🎯 목표

- 일본 소비자의 특성을 파악하여 웹/앱 디자인에 반영한다.

- 자사 운영 가능한 관리자를 포함한 전체적인 하나의 쇼핑몰 서비스를 제작한다.

- 앱도 호환 가능하도록 한다.

- 기존 페이지의 문제점을 파악하고 개선한다.

- UX를 고려하여 상품 구매까지 이어지는 플로우를 개선한다.

- 시간이 된다면 쿠폰등의 추가기능도 구현한다.

## 기획과 해결책

> **일본 웹 페이지 특징**

- 메인에 많은 정보가 집약되어 있습니다.

  - **필터 기능** -> 메인에서 조건에 맞는 상품을 바로 찾아 볼 수 있습니다.
  - **검색 기능** -> 상단 검색바를 통해 원하는 상품을 검색 가능합니다.
  - **컬러칩** -> 메인상품에 컬러칩을 hover 하면 해당 렌즈 상품이 보여집니다.

- 사이트의 깊이가 있는것을 선호하지 않습니다.
  - 이벤트, 공지사항, 리뷰 등을 메인에서도 접근 가능합니다.
  - 라우팅 처리르 간단히하여 deps를 줄였습니다.

> 문제점 발견 및 개선점

- **기존 페이지의 로딩 개선**
  - 리액트 쿼리를 이용해 **prefecth**를 이용했습니다.
  - 리액트의 SPA는 MPA 방식의 단점을 개선했습니다.

## 맡은 기능
### prefetch를 이용한 메인 페이지 전체 상품 조회 및 새로운 상품 조회  
  - 메인의 상품들을 page 별로 불러오고 상품의 총 count를 받아서 pagination을 구현함과 동시에 React-Query의 prefetch 로직을 이용해서 사용자가 다음 페이지 눌렀을 때 상품이 로딩되는 시간을 단축시켰고 이전 데이터도 캐시에 유지 시킴으로써 또 다시 서버 호출이 가지 않도록 구현했습니다.  
  - 렌즈 사이트 특성은 이미지가 많고 일본 사이트 특성은 메인에 많은 정보들을 보여주려고 하는데 그러다 보니 메인 페이지부터 loading이 느리게 될 수 있다고 생각해서 인터섹션 옵저버를 통한 lazy loading 을 통해 메인 페이지에 첫 화면 불러올 때의 속도를 높였습니다.

### 상품의 색상 별 이미지 조회  
  - 사진의 첫 번째 값을 상태에 담아 보여주고 색상에 따라 사진이 달라질 수 있게 `onMouseEnter`를 이용하여 구현했습니다. 버블링이 일어나지 않게 하기 위해서 `onMouseOver`가 아닌 `onMouseEnter`를 사용했습니다.

### 카트 추가 및 즐겨찾기 추가  
  - 카트 추가 및 즐겨찾기 추가 함수에 `setTimeout`함수를 사용해서 debounce를 방지했습니다.

### 이벤트 조회 및 쿠폰 발급 기능
  - 메인에서도 이벤트에 대한 내용을 받아오고 독립적인 이벤트 페이지에서도 이벤트에 대한 내용을 서버에 호출해서 받아오는 것은 비효율적이라고 생각해서 api 요청을 줄이기 위해 React-Query의 좋은 기능 중 하나인 캐싱을 이용해서 메인에서 받아온 이벤트 값을 이벤트 페이지에서도 사용할 수 있도록 만들었습니다.

### 공지사항 조회 기능  
  - 이 부분도 이벤트와 마찬가지로 메인과 독립적인 공지사항 페이지에서 받아오는 내용이 같으므로 서버 요청을 1번이라도 줄이기 위해서 React-Query의 캐싱 기능을 이용했습니다.  
  - 메인 페이지의 공지사항을 라우팅으로 구현했었는데 메인 페이지 값의 변화는 공지사항만 있는데 주소가 변경되는 것이 이상하다고 생각이 들어 `useReducer` 를 이용해서 주소 변경 없이 값을 불러오는 로직으로 변경시켰습니다.

## 협업방식

> **회의**

- 노션을 사용하여 회의 로그를 관리하였습니다.
  <img src="https://user-images.githubusercontent.com/90392240/196616338-447c5a19-7264-4ee6-819a-d354de36e473.png" />

> **개발**

- Git flow를 도입하여 역할 분담과 깃 운영방식을 명확히했습니다.

- GitHub organization을 만들어 백엔드와 프론트가 서로 개발상황을 확인할 수 있었습니다.

<img width="700" src="https://user-images.githubusercontent.com/90392240/196617435-142fac90-9620-4c79-bf90-a51c86ce67a3.png" />

- GitHub Issue를 활용하여 협업시 구성원의 작업현황을 확인할 수 있었습니다.

<img width="700" src="https://user-images.githubusercontent.com/90392240/196617301-89ae2b47-4552-4714-8703-53b43f66f089.png" />

## API 명세서

- 프론트와 백엔드가 지속적인 소통을 통해 필요한 API 목록들을 확정했습니다.
- 우선순위를 정해 꼭 구현해야할 기능과 부가기능으로 구분했습니다.
- API 명세서를 작성하여 개발의 효율성을 높였습니다.

<img width="700" src="https://user-images.githubusercontent.com/90392240/196620962-cd47493b-4488-474f-b1d6-584b1097a7a3.png" />

## 개선점 및 특징

### - 페이지네이션 prefetch 적용

<img width="500" height="400" src="https://user-images.githubusercontent.com/90392240/196639855-0f5ea900-9ccd-4d38-acdf-e0624858c7ee.gif" />

---

### - 메인에서 필터링된 결과 바로 확인

<img width="500" height="400" src="https://user-images.githubusercontent.com/90392240/196643841-ee4ee40f-fe50-4f76-b98e-cf9589d3e2ac.gif" />

---

### - 제품 상세 로딩시간 개선

<img width="500" height="400" src="https://user-images.githubusercontent.com/90392240/196643841-ee4ee40f-fe50-4f76-b98e-cf9589d3e2ac.gif" />

---

### - 메인 상품 컬러칩 hover시 이미지 변경

<img width="500" height="400" src="https://user-images.githubusercontent.com/90392240/196646368-894e58dc-6303-4b44-b8a8-aedd2f89d5d8.gif" />

---

### - 상품 검색 기록 저장

<img width="300" src="https://user-images.githubusercontent.com/90392240/196646391-7e980ec2-04e1-4ed0-bed2-5952bc853276.gif" />

## 결과

### 피그마 디자인

<img src="https://user-images.githubusercontent.com/90392240/197428779-5e4a4872-e941-4cde-9306-d96644269399.png" />

### 플로우차트

- 사용자가 경험할 수 있는 루트입니다.
  <img src="https://user-images.githubusercontent.com/90392240/196639590-3bed6c3f-534c-4172-aeca-412b9d6a486c.png" />

### 구현 기능

[X] 회원가입/로그인

[X] 즐겨찾기 담기/삭제

[X] 기간, 컬러, 시리즈, 특징 별 필터링

[X] 리뷰 작성, 이미지, 텍스트, 별점

[X] 리뷰 수정/삭제

[X] 상품별 리뷰 필터링

[X] 제품 상세 옵션별 상품 변경

[X] 상품 추천

[X] 이벤트, 공지사항

[X] 제품 검색, 최근 검색 기록 저장

[X] 주문서 작성

[X] 회원가입 쿠폰, 이벤트를 통한 쿠폰 발급

[X] 회원정보 수정

[X] 배송조회

[X] 스켈레톤 UI - 메인 상품, 제품상세

[X] 제품상세 바로구매 -> 주문서페이지
